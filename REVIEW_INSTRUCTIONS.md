# ⚠️ REVIEW INSTRUCTIONS

> Generated by Gemini

```toml
[review]
summary = "This PR introduces a comprehensive AI agent toolkit but significantly degrades the repository's quality assurance standards by removing automated tests and strict linting from CI. Furthermore, the newly introduced shell hooks contain security vulnerabilities related to temporary file handling, and the workflow configurations have permission defects regarding forked repositories."
decision = "REQUEST_CHANGES"

[[issues]]
severity = "critical"
file = ".github/workflows/ci.yml"
line = 1
title = "Critical regression in CI pipeline"
description = "The changes to `ci.yml` remove the `typecheck`, `test`, and `integration` jobs and set `continue-on-error: true` for the `lint` job. This effectively disables all quality gates for the application code. While the new configuration validation jobs are useful, they should not replace unit tests and standard linting."
suggestion = "Restore the original testing and linting jobs. Add the new `validate-config` jobs alongside them."

[[issues]]
severity = "critical"
file = ".claude/hooks/post-tool-use.sh"
line = 1
title = "Insecure temporary file creation (Symlink Vulnerability)"
description = "The script uses a predictable fixed path `/tmp/claude_last_run`. In a shared environment, a malicious user can pre-create a symlink at this location to cause the script to overwrite or modify arbitrary files owned by the user running the agent. This same issue exists in `.claude/hooks/stop.sh` with `/tmp/claude_test_output.log`."
suggestion = "Use `mktemp` to create secure, randomized temporary files. Example: `TEMP_FILE=$(mktemp)`."

[[issues]]
severity = "important"
file = ".github/workflows/pii-scan-content.yml"
line = 1
title = "Workflow failure on forked PRs"
description = "This workflow triggers on `pull_request` and attempts to post a comment using `GITHUB_TOKEN`. For PRs originating from forks (common in public repos), the token is read-only, causing this workflow to fail execution when calling `github.issues.createComment`."
suggestion = "Check `if (context.payload.pull_request.head.repo.fork)` and skip the commenting step, or just log the warning to the action output without failing."

[[issues]]
severity = "important"
file = ".gitignore"
line = 1
title = "Committing local configuration files"
description = "The `.gitignore` explicitly whitelists `.claude/settings.local.json`. The `.local` suffix conventionally indicates machine-specific configuration or secrets that should never be version-controlled."
suggestion = "Remove `!/claude/settings.local.json` from `.gitignore`. This file should remain ignored."

[[issues]]
severity = "important"
file = ".claude/hooks/auto-approve.sh"
line = 1
title = "Unsafe auto-approval of build tools"
description = "The whitelist includes `npm run build`, `make`, etc. Since the agent can edit `package.json` or `Makefile` (via the Write tool) and then immediately run these commands (via the Bash tool), it can execute arbitrary code without human approval, bypassing the intent of the safety net."
suggestion = "Remove build/execution tools (`npm run`, `make`) from the auto-approve whitelist, or ensure the agent hasn't modified the configuration files they rely on in the same session."
```